<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Chat Room</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #2d2d2d;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .chat-container {
            background: #3b3b3b;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 350px;
            text-align: center;
        }
        .form-control, .btn {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <h3>Select a Chat Room</h3>
        <form>
            <select id="countryChatRoom" class="form-select">
                <option value="">Select a country chat room</option>
                <option value="usa">USA</option>
                <option value="uk">UK</option>
                <option value="india">India</option>
                <option value="germany">Germany</option>
            </select>
            <input type="text" id="customChatRoom" name="group" class="form-control" placeholder="Or enter a chat room name">
            <input type="text" id="customChatRoom" name="user" class="form-control" placeholder="Enter Your Name" required>
            <input type="hidden" id="userid" name="userid" required>
            <button class="btn btn-primary w-100" onclick="joinChatRoom()">Join Chat</button>
        </form>
    </div>
    
    <script>
        function uuidv4() {
            return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, c =>
                (+c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> +c / 4).toString(16)
            );
        }
        document.getElementById('userid').value = uuidv4();

        function joinChatRoom() {
            let selectedRoom = document.getElementById("countryChatRoom");
            let customRoom = document.getElementById("customChatRoom");
            if(customRoom.value != ''){
                return true;
            }else{
                customRoom.value = selectedRoom.value
            }
            
        }
    </script>
</body>
</html>
